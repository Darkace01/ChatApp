@model ChatApp.Models.Chat
<div class="chat-body">
   @foreach(var message in Model.Messages){
       <div class="message">
       <header>@message.Name</header>
       <p>@message.Text</p>
       <footer>@message.Time</footer>
   </div>  
   }
</div>

    <form asp-controller="Home" asp-action="CreateMessage" class="chat-input">
        <input type="hidden" name="chatId" value="@Model.Id">
        <input type="text" name="message"/>
    <button type="submit" class="">Send</button>
    </form>

    @section scripts {
        <script src="~/js/signalr/signalr.min.js"></script>
        <script>
            var connection = new signalR.HubConnectionBuilder()
                                    .withUrl("/chatHub")
                                    .build();
            
            connection.on("RecieveMessage", function(data){
                console.log(data)
            })

            connection.start()
                        .then(function(){

                        })
                        .catch(function(err){
                            console.log(err)
                        })
            var joinRoom = function() {
                axios.post('/Chat/JoinRoom/{}/@Model.Name')
            }
        </script>
    }